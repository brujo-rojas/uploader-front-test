<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
</head>
<body>
  


  <section id="lista">
    
    <br>
    <button id="agregar_nuevo_file">otra imagen</button>
    <br>
  </section>



  <div id="modelos">
    <section class="file" style="display: none">
      <span class="close_input">X</span>
      <label for="img_input_1" >
        <img src="" class="img-thumbnail" id="img_1">
        <input type="file" class="img_input" id="img_input_1" >
        <input type="hidden" class="img_url" id="img_url_1" value="prueba">
        <br>
      </label>
    </section>
  </div>

  <script>



    $(document).ready(function() {

        $('#lista').prepend(
            $('#modelos .file:first').clone().show()
            );

        $('#agregar_nuevo_file').click(function(event) {
          c =  $('#modelos .file:first').clone();
          if ( $('#lista .file').length > 0) {
            $('#lista .file').last().after(c);
          }else{
            $('#lista').prepend(c);
          }
          c.show();
          eventos();
        });
        eventos = function(){
          $(".file input[type='file']").change(function(event) {
            salida = "[";
            $('#lista .file .img_url').each(function(index, el) {
              salida += $(el).val() + ", ";
            });
            salida +="]";
            $("#lista").append(salida);
          });

          $('.close_input').click(function(event) {
              $(this).parent().remove();
          });
        }
        eventos();
    });





  </script>
</body>
</html>